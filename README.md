# Clean install your Mac without hesitation

This is the checklist version of process for clean installing your Mac. To see verbose article, visit [Medium](https://medium.com/@abookyun/clean-install-your-mac-without-hesitation-7d379df8fc87#.1gv7sdq79).

- Requirement
  - An external drive with available space larger than your Mac for Time Machine and migrated data
  - An USB larger than 8GB for bootable disk
- Backup
  - Connect your Time Machine drive and run a full backup of your Mac
  - Softwares
    - [ ] Install [Homebrew](https://brew.sh) with `/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"`
    - [ ] Install [mas-cli](https://github.com/mas-cli/mas) with `brew install mas`
    - [ ] Dump softwares list to `Brewfile` file with `brew bundle dump`
    - [ ] Compare apps in `Application` folder with `Brewfile`.
      - [ ] For apps found only in `Application` folder, `brew cask search {app_name}`.
      - [ ] For apps found only in `Brewfile`, google and find if you need it anymore.
    - [ ] Comment the `Brewfile` with leading `#` about how or why you need it.
  - Software Data
    - [ ] Keychains
      - [ ] Turn on iCloud Keychains sync
    - [ ] Update [Dotfiles](https://github.com/TsuyoshiTsai/dotfiles)
      - [ ] .zshrc
      - [ ] .gitconfig
      - [ ] .gitignore_global
      - [ ] .npm_global (`npm list -g --depth=0`)
  - Static files
    - [ ] /Documents
- Re-installation
  - [ ] Bootable USB
    - [ ] [Download macOS High Sierra](https://itunes.apple.com/tw/app/macos-high-sierra/id1246284741?l=en&mt=12)
    - [ ] Format USB drive with `Mac OS Extented (Journaled)` format and `Untitled` name
    - [ ] Create bootable macOS USB with `sudo /Applications/Install\ macOS\ High\ Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/Untitled --applicationpath /Applications/Install\ macOS\ High\ Sierra.app --nointeraction`
  - [ ] Backup everything again
    - Connect your Time Machine drive and run a full backup of your Mac
  - [ ] Make sure you have these ready
    - [ ] Your Mac was properly backed up
    - [ ] `Brewfile` is correctly on Dropbox or drive
    - [ ] Check your migrated files are fully ready
  - [ ] WARNING: YOU ARE GOING TO DELETE EVERYTHING ON YOUR MAC IN THE NEXT STEP!!! You won’t be able to to open your Mac until macOS is installed.
  - [ ] Format and Install your Mac
    - [ ] Plug in the bootable USB
    - [ ] Restart & hold down the Option(⌥) key
    - [ ] Choose Install OS X High Sierra(the bootable USB)
    - [ ] Select `Disk Utility` from the menu and erase you Startup Disk(usually named Macintosh HD) with `Mac OS Extended (Journaled)`
    - [ ] Go back to the main menu; select Install macOS and choose your HDD when prompted
- Migration
  - [ ] Install [Homebrew](https://brew.sh) with `/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"`
  - [ ] Install [mas-cli](https://github.com/mas-cli/mas) with `brew install mas`
  - [ ] Copy `Brewfile` to your home folder then run `brew bundle` in `Terminal`
  - [ ] Software data
    - [ ] Download [Dotfiles](https://github.com/TsuyoshiTsai/dotfiles)
      - [ ] .ssh
        - `ssh-keygen -t rsa -b 4096 -C "{email}"`
        - paste `~/.ssh/id_rsa.pub` content to where requires SSH Key (e.g. GitHub, GitLab)
        - [Generating a new SSH key and adding it to the ssh-agent](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/)
      - [ ] .zshrc
      - [ ] .gitconfig
      - [ ] .gitignore_global
      - [ ] .npm_global (`npm install -g {packages}`)
  - [ ] Static Files
    - [ ] ~/Documents
  - [ ] Restore Settings
    - [ ] System Preferences
      - [ ] General
        - [ ] Appearance - Use dark menu bar and Dock
        - [ ] Recent items - None Documents, Apps, and Servers
      - [ ] Desktop & Screen Saver
        - [ ] Desktop
          - [ ] Change picture: on, Every 30 minutes
          - [ ] Random order: on
        - [ ] Screen Saver
          - [ ] Start after: never
          - [ ] Show with clock: on
          - [ ] Use [Apple TV Aerial Screen Saver for Mac](https://github.com/JohnCoates/Aerial)
            - [ ] Play Different Aerial On Each Display: on
            - [ ] Cache Aerials As They Play: off
      - [ ] Dock
        - [ ] Size: Arrow's left side above the last letter position of 'small'
        - [ ] Magnification: Bottom position
        - [ ] Minimize windows into application icon: on
        - [ ] Automatically hide and show the Dock: on
        - [ ] Show indicators for open applications: on
      - [ ] Mission Control
        - [ ] Group windows by application: on
        - [ ] Dashboard: As Overlay
        - [ ] Hot Corners
          - [ ] Top Left: Dashboard
          - [ ] Top Right: Mission Control
          - [ ] Bottom Left: Start Screen Saver
          - [ ] Bottom Right: Application Windows
      - [ ] Language & Region
        - [ ] Add `Japanese`
        - [ ] Time format: 24-Hour Time
      - [ ] Security & Privacy
        - [ ] Turn on [FileVault](https://www.apple.com/macos/security/)
        - [ ] Turn on Firewall
        - [ ] Enable location for Weather
        - [ ] System Service: Show location icon in menu bar
      - [ ] Notification
        - [ ] Turn on Do Not Disturb
          - [ ] From 01:00 to 08:00
          - [ ] When the display is sleeping: on
          - [ ] When mirroring to TVs and projectors: on
        - [ ] When Do not Disturb is turned on
          - [ ] Allow repeated calls: on
        - [ ] Turn off all apps except IMs
      - [ ] Energy Saver
        - [ ] Turn display off after: 30 min
        - [ ] Power Adapter
          - [ ] Prevent computer from sleeping automatically when the display off: on
          - [ ] Wake for Wi-Fi network access: off
      - [ ] Keyboard
        - [ ] Input Sources
          - [ ] Add `Zhuyin`, `Japanese` (Type mode: Hiragana only), `Unicode Hex Input`
      - [ ] Trackpad
        - [ ] Turn on Look up & data detectors, Tap to click, App expose
        - [ ] Turn off Scroll direction: Natural
      - [ ] iCloud
        - [ ] iCloud Drive (on)
          - [ ] Weather.app
          - [ ] Numi.app
          - [ ] System Preferences.app
          - [ ] Bear.app
        - [ ] Keychain
      - [ ] Siri
        - [ ] Enable Ask Siri: off
        - [ ] Show Siri in menu bar: off
      - [ ] Date & Time
        - [ ] Clock
          - [ ] Time options
            - [ ] Display the time with seconds: on
          - [ ] Date options
            - [ ] Show the day of the week: on
            - [ ] Show date: on
      - [ ] Install Logitech Control Center
    - [ ] Finder
      - [ ] General
        - [ ] Show these items on the desktop: all off
        - [ ] New finder window show: Documents
      - [ ] Sidebar
        - [ ] Favorites
          - [ ] Documents
          - [ ] Downloads
          - [ ] Home
        - [ ] Shared: all on
        - [ ] Devices
          - [ ] Hard disks
          - [ ] External disks
      - [ ] Advanced
        - [ ] Show all filename extensions
        - [ ] When performing a search: Searching the Current Folder
      - [ ] Keydown `Shift + Command + .` to show all hidden file
      - [ ] Show View Options: Always open in column view: on
  - [ ] Development Environment
    - [ ] iTerm2
      - [ ] Set up theme (https://www.jianshu.com/p/563dc1da2199)
        - [ ] Install theme for iTerm2 (dracula https://draculatheme.com/iterm/)
        - [ ] Install `oh-my-zsh` https://github.com/robbyrussell/oh-my-zsh
        - [ ] Install powerline fonts (12pt Meslo LG M Regular for Powerline https://github.com/powerline/fonts)
        - [ ] Install powerline theme for oh-my-zsh https://github.com/jeremyFreeAgent/oh-my-zsh-powerline-theme
      - [ ] General
        - [ ] Closing
          - [ ] Confirm "Quit iTerm2 (Q)" command: off
      - [ ] Appearance
        - [ ] Tabs
          - [ ] Theme: Dark
          - [ ] Show tab bar even when there is only one tab: on
        - [ ] Window & Tab Titles: all on
      - [ ] Profiles
        - [ ] General - Working Directory: Reuse previous session's directory
        - [ ] Colors - Color Presets: Dracula
        - [ ] Text - Font: 12pt Meslo LG M Regular for Powerline
        - [ ] Sessions - Closing: Automatically close a session when it ends: on
        - [ ] Keys
          - [ ] `Alt + left`: Send Escape Sequence, Esc + b
          - [ ] `Alt + right`: Send Escape Sequence, Esc + f
    - [ ] Visual Studio Code
      - [ ] Install Extension `Settings Sync` (Shan.code-settings-sync)
      - [ ] Download setting by: `Shift + Alt + D` (need GitHub gist)